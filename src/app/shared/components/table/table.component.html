<table>
  <tr>
    <th *ngFor="let colName of config.colNames"> {{ colName }} </th>
  </tr>
  <tr *ngFor="let row of page.rows">
      <td  *ngFor="let key of config.keys">
        <div *ngIf="key === 'edit'" class="edit-button">
          <nb-icon nbButton size="tiny" icon="edit-outline"
                   (click)="onEdit(row)">
          </nb-icon>
        </div>
        <div *ngIf="key === 'delete'" class="del-button">
          <nb-icon nbButton size="tiny" icon="trash-2-outline"
                   (click)="onDelete(row)">
          </nb-icon>
        </div>
        <div *ngIf="key === 'details'" class="detail-button">
          <nb-icon nbButton size="tiny" icon="search-outline"
                   (click)="onClickDetails(row)">
          </nb-icon>
        </div>
        <div *ngIf="key === 'time'">
          {{ row[key] | toMillisecs | date:'medium' }}
        </div>
        <div *ngIf="key === 'created'">
          {{ row[key] | date:'long' }}
        </div>
        <div *ngIf="key === 'payload'">
          <div class="row" *ngFor="let v of row[key] | keyvalue">
            <div class="col-md-2"><b>{{v.key}}</b></div>
            <div class="col">{{v.value}}</div>
          </div>
        </div>
        <div *ngIf="key !== 'time' &&
                    key !== 'edit' &&
                    key !== 'delete' &&
                    key !== 'details' &&
                    key !== 'payload' &&
                    key !== 'created'">
          {{ row[key] }}
        </div>
      </td>
  </tr>
</table>

<div *ngIf="page.total === 0" class="row no-msg">
  <div class="col-12">
    No content
  </div>
</div>

<div class="row">
  <div  *ngIf="page.total > 0" class="col-1">
    <nb-select size="tiny" [(selected)]="page.limit" (selectedChange)="onChangeLimit($event)">
      <nb-option *ngFor="let lim of limits" [value]="lim"> {{ lim }} </nb-option>
    </nb-select>
  </div>
  <div *ngIf="totalPages > 1" class="col-10" style="text-align: center;">
    <button (click)="onChangePage('prev')" nbButton size="tiny" class="page-button">
      <<
    </button>
    <button (click)="onChangePage('current')" nbButton size="tiny" class="page-button">
      {{ currentPage }}
    </button>
    <button (click)="onChangePage('next')" nbButton size="tiny" class="page-button">
      >>
    </button>
  </div>
  <div class="col-1">
  </div>
</div>
